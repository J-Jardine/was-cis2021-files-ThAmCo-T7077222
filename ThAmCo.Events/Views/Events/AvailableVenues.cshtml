@model IEnumerable<ThAmCo.Events.Models.AvailableVenues>

@{
    ViewData["Title"] = "Available Venues";
}

<h2>Available Venues for @ViewData["EventTitle"]</h2>

@if (((SelectList)ViewData["VenueList"]).Any())
{
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Code)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Capacity)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Date)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CostPerHour)
                </th>
                <th>
                    @*Reserve Venue*@
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Code)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Capacity)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CostPerHour)
                </td>
                <td>
                    <a asp-controller="Events" asp-action="ReserveVenue" asp-route-EventId="@ViewData["EventId"]" asp-route-VenueCode="@item.Code" asp-route-StaffId=0>Reserve</a>  
                </td>
            </tr>
            }
        </tbody>

    </table>

    @*@using (Html.BeginForm("ReserveVenue", "Events", FormMethod.Get))
    {
        @Html.DropDownList("venueCode", (SelectList)ViewData["VenueList"])
        @Html.DropDownList("staffId", (SelectList)ViewData["StaffList"]);
        <input type="hidden" id="eventId" value="@ViewData["EventId"]" name="eventId" />

        <input type="Submit" name="btnSubmit" />
    }*@
}
else
{
    <p>No Venues Available</p>
}


